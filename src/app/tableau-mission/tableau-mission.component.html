<link rel="stylesheet" href="/assets/font-awesome-4.7.0/css/font-awesome.min.css">

<div class="container">
    <div class="row">
        <h1 *ngIf=" (item == 'employe' && item != null)">Gestion des Missions</h1>
        <h1 *ngIf=" (item == 'admin' ||  item == 'manager' && item != null)">Validation des missions</h1>
        <table class="table table-hover table-bordered">
            <thead>
                <th>
                    Date de début
                    <a (click)="sortMissionsDate()"><i class="fa fa-sort" aria-hidden="true"></i></a>
                </th>
                <th>
                    Date de Fin
                    <a (click)="sortMissionsDate()"><i class="fa fa-sort" aria-hidden="true"></i></a></th>
                <th>Nature</th>
                <th>Départ</th>
                <th>Arrivée</th>
                <th>Transport</th>
                <th *ngIf=" ( item == 'admin' && item != null) ">
                    Statut
                </th>
                <th *ngIf=" ( item == 'employe' && item != null) ">
                    Statut
                    <a (click)="sortMissionStatut()"><i class="fa fa-sort" aria-hidden="true"></i></a>
                </th>
                <th>Actions</th>
            </thead>
            <tbody *ngFor="let mission of missions">
                <tr>
                    <td>{{mission.dateDebut.year}}/{{mission.dateDebut.monthValue}}/{{mission.dateDebut.dayOfMonth}}</td>
                    <td>{{mission.dateFin.year}}/{{mission.dateFin.monthValue}}/{{mission.dateFin.dayOfMonth}}</td>
                    <td>{{mission.nature}}</td>
                    <td>{{mission.villeDepart}}</td>
                    <td>{{mission.villeArrivee}}</td>
                    <td>{{mission.transport}}</td>
                    <td *ngIf=" ( item == 'employe' && item != null) ">
                        {{mission.statut}}
                    </td>
                    <td *ngIf=" ( item == 'employe' && item != null) ">
                        <button (click)="supprimer(mission.id)" class="btn-outline-danger"><img src="/assets/open-iconic-master/svg/trash.svg" style="width: 2rem; height: 1rem; cursor: pointer;" /></button>
                    </td>
                    <td *ngIf=" ( item == 'manager' && item != null) ">
                        <button (click)="validerMission(mission.id)" class="btn-outline-success"><img src="/assets/open-iconic-master/svg/check.svg" style="width: 2rem; height: 1rem; cursor: pointer;" /></button>&nbsp;
                        <button (click)="rejeterMission(mission.id)" class="btn-outline-danger"><img src="/assets/open-iconic-master/svg/minus.svg" style="width: 2rem; height: 1rem; cursor: pointer;" /></button>
                    </td>
                    <td *ngIf=" ( item == 'admin' && item != null) ">
                        {{mission.statut}}
                    </td>
                    <td *ngIf=" ( item == 'admin' && item != null) ">
                        <button (click)="validerMission(mission.id)" class="btn-outline-success"><img src="/assets/open-iconic-master/svg/check.svg" style="width: 2rem; height: 1rem; cursor: pointer;" /></button>&nbsp;
                        <button (click)="rejeterMission(mission.id)" class="btn-outline-danger"><img src="/assets/open-iconic-master/svg/minus.svg" style="width: 2rem; height: 1rem; cursor: pointer;" /></button>
                    </td>
            </tbody>
        </table>
    </div>